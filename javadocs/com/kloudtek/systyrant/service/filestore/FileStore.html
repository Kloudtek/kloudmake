<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (version 1.7.0_21) on Sun Jul 07 16:26:07 BST 2013 -->
<title>FileStore</title>
<meta name="date" content="2013-07-07">
<link rel="stylesheet" type="text/css" href="../../../../../stylesheet.css" title="Style">
</head>
<body>
<script type="text/javascript"><!--
    if (location.href.indexOf('is-external=true') == -1) {
        parent.document.title="FileStore";
    }
//-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar_top">
<!--   -->
</a><a href="#skip-navbar_top" title="Skip navigation links"></a><a name="navbar_top_firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../index-all.html">Index</a></li>
<li><a href="../../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../../com/kloudtek/systyrant/service/filestore/FileDefinition.html" title="class in com.kloudtek.systyrant.service.filestore"><span class="strong">Prev Class</span></a></li>
<li><a href="../../../../../com/kloudtek/systyrant/service/filestore/FileStore.FSDataFile.html" title="class in com.kloudtek.systyrant.service.filestore"><span class="strong">Next Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../../index.html?com/kloudtek/systyrant/service/filestore/FileStore.html" target="_top">Frames</a></li>
<li><a href="FileStore.html" target="_top">No Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../../../allclasses-noframe.html">All Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li><a href="#nested_class_summary">Nested</a>&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor_summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor_detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_detail">Method</a></li>
</ul>
</div>
<a name="skip-navbar_top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">com.kloudtek.systyrant.service.filestore</div>
<h2 title="Class FileStore" class="title">Class FileStore</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li>java.lang.Object</li>
<li>
<ul class="inheritance">
<li>com.kloudtek.systyrant.service.filestore.FileStore</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<dl>
<dt>All Implemented Interfaces:</dt>
<dd>java.io.Closeable, java.lang.AutoCloseable</dd>
</dl>
<hr>
<br>
<pre>public class <span class="strong">FileStore</span>
extends java.lang.Object
implements java.io.Closeable</pre>
<div class="block"><p>This service allows to access local or remote files.</p>
 <p>It supports remote files, which are subsequently cached on the host. It also support remote files which cannot be
 automatically downloaded, but need to instead be manually downloaded by the user (generally because of license
 restrictions on distribution).</p>
 <p>Local files will not be cached (the ones where protocol is 'classpath' or 'file')</p>
 <p>The URI can be either any of the standard java-supported URL, or one of the following schemes:</p>
 <dl>
 <dt>classpath</dt>
 <dd>Used to retrieve a file in the classpath. ie: classpath:/com/test/file.txt</dd>
 </dl></div>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- ======== NESTED CLASS SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="nested_class_summary">
<!--   -->
</a>
<h3>Nested Class Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Nested Class Summary table, listing nested classes, and an explanation">
<caption><span>Nested Classes</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Class and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>class&nbsp;</code></td>
<td class="colLast"><code><strong><a href="../../../../../com/kloudtek/systyrant/service/filestore/FileStore.FSDataFile.html" title="class in com.kloudtek.systyrant.service.filestore">FileStore.FSDataFile</a></strong></code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>class&nbsp;</code></td>
<td class="colLast"><code><strong><a href="../../../../../com/kloudtek/systyrant/service/filestore/FileStore.LocalDataFile.html" title="class in com.kloudtek.systyrant.service.filestore">FileStore.LocalDataFile</a></strong></code>&nbsp;</td>
</tr>
</table>
</li>
</ul>
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor_summary">
<!--   -->
</a>
<h3>Constructor Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Constructor Summary table, listing constructors, and an explanation">
<caption><span>Constructors</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colOne" scope="col">Constructor and Description</th>
</tr>
<tr class="altColor">
<td class="colOne"><code><strong><a href="../../../../../com/kloudtek/systyrant/service/filestore/FileStore.html#FileStore()">FileStore</a></strong>()</code>&nbsp;</td>
</tr>
</table>
</li>
</ul>
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method_summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span>Methods</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../../com/kloudtek/systyrant/service/filestore/FileStore.html#addLocation(java.lang.String)">addLocation</a></strong>(java.lang.String&nbsp;location)</code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../../com/kloudtek/systyrant/service/filestore/FileStore.html#close()">close</a></strong>()</code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code><a href="../../../../../com/kloudtek/systyrant/service/filestore/DataFile.html" title="class in com.kloudtek.systyrant.service.filestore">DataFile</a></code></td>
<td class="colLast"><code><strong><a href="../../../../../com/kloudtek/systyrant/service/filestore/FileStore.html#create(java.lang.String)">create</a></strong>(java.lang.String&nbsp;uri)</code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>java.lang.String</code></td>
<td class="colLast"><code><strong><a href="../../../../../com/kloudtek/systyrant/service/filestore/FileStore.html#createLibraryFileUrl(java.lang.String, java.lang.String)">createLibraryFileUrl</a></strong>(java.lang.String&nbsp;path,
                    java.lang.String&nbsp;encoding)</code>
<div class="block">This function is used to generate an url to a file contained in a library.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>java.lang.String</code></td>
<td class="colLast"><code><strong><a href="../../../../../com/kloudtek/systyrant/service/filestore/FileStore.html#createUserFileUrl(java.lang.String, java.lang.String, java.lang.String, boolean, java.lang.String)">createUserFileUrl</a></strong>(java.lang.String&nbsp;path,
                 java.lang.String&nbsp;url,
                 java.lang.String&nbsp;sha1,
                 boolean&nbsp;retrievable,
                 java.lang.String&nbsp;encoding)</code>
<div class="block">Create an url to a user file (files which looked up in any of the configured filestore locations).</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>java.util.Collection&lt;java.lang.String&gt;</code></td>
<td class="colLast"><code><strong><a href="../../../../../com/kloudtek/systyrant/service/filestore/FileStore.html#getLocations()">getLocations</a></strong>()</code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static void</code></td>
<td class="colLast"><code><strong><a href="../../../../../com/kloudtek/systyrant/service/filestore/FileStore.html#main(java.lang.String[])">main</a></strong>(java.lang.String[]&nbsp;args)</code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../../com/kloudtek/systyrant/service/filestore/FileStore.html#removeLocation(java.lang.String)">removeLocation</a></strong>(java.lang.String&nbsp;location)</code>&nbsp;</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="methods_inherited_from_class_java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.Object</h3>
<code>clone, equals, finalize, getClass, hashCode, notify, notifyAll, toString, wait, wait, wait</code></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor_detail">
<!--   -->
</a>
<h3>Constructor Detail</h3>
<a name="FileStore()">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>FileStore</h4>
<pre>public&nbsp;FileStore()</pre>
</li>
</ul>
</li>
</ul>
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method_detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="main(java.lang.String[])">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>main</h4>
<pre>public static&nbsp;void&nbsp;main(java.lang.String[]&nbsp;args)</pre>
</li>
</ul>
<a name="close()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>close</h4>
<pre>public&nbsp;void&nbsp;close()</pre>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code>close</code>&nbsp;in interface&nbsp;<code>java.io.Closeable</code></dd>
<dt><strong>Specified by:</strong></dt>
<dd><code>close</code>&nbsp;in interface&nbsp;<code>java.lang.AutoCloseable</code></dd>
</dl>
</li>
</ul>
<a name="create(java.lang.String)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>create</h4>
<pre>public&nbsp;<a href="../../../../../com/kloudtek/systyrant/service/filestore/DataFile.html" title="class in com.kloudtek.systyrant.service.filestore">DataFile</a>&nbsp;create(@NotNull
              java.lang.String&nbsp;uri)
                throws java.io.IOException,
                       freemarker.template.TemplateException</pre>
<dl><dt><span class="strong">Throws:</span></dt>
<dd><code>java.io.IOException</code></dd>
<dd><code>freemarker.template.TemplateException</code></dd></dl>
</li>
</ul>
<a name="getLocations()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getLocations</h4>
<pre>public&nbsp;java.util.Collection&lt;java.lang.String&gt;&nbsp;getLocations()</pre>
</li>
</ul>
<a name="addLocation(java.lang.String)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>addLocation</h4>
<pre>public&nbsp;void&nbsp;addLocation(java.lang.String&nbsp;location)</pre>
</li>
</ul>
<a name="removeLocation(java.lang.String)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>removeLocation</h4>
<pre>public&nbsp;void&nbsp;removeLocation(java.lang.String&nbsp;location)</pre>
</li>
</ul>
<a name="createLibraryFileUrl(java.lang.String, java.lang.String)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>createLibraryFileUrl</h4>
<pre>public&nbsp;java.lang.String&nbsp;createLibraryFileUrl(java.lang.String&nbsp;path,
                                    java.lang.String&nbsp;encoding)</pre>
<div class="block"><p>This function is used to generate an url to a file contained in a library. This is generally used to generate
 an url to be passed as a 'source' attribute to a 'core.file' resource.</p>
 <p>Relative paths will be relative to the source of the resource being processed. For example if you have the
 following two files in the same directory: 'tomcat6.stl' and 'tomcat6-server.xml.ftl', and you wanted to refer
 generate an url to the 'tomcat6-server.xml.ftl' from the stl file, you could do the following:</p>
 <code>
 def tomcat6( serverport=8005, httpport = 8080, serverxml='/etc/tomcat6/server.xml' ) {<br/>
 new core.package { name="tomcat6" } -&gt;<br/>
 new core.file { path = "${serverxml}" , source = lfile('tomcat6.xml.ftl',true) } -&gt;<br/>
 new core.service { name='tomcat6' }<br/>
 }
 </code></div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>path</code> - Path to the file.</dd><dd><code>encoding</code> - encoding</dd>
<dt><span class="strong">Returns:</span></dt><dd>file url.</dd></dl>
</li>
</ul>
<a name="createUserFileUrl(java.lang.String, java.lang.String, java.lang.String, boolean, java.lang.String)">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>createUserFileUrl</h4>
<pre>public&nbsp;java.lang.String&nbsp;createUserFileUrl(java.lang.String&nbsp;path,
                                 java.lang.String&nbsp;url,
                                 java.lang.String&nbsp;sha1,
                                 boolean&nbsp;retrievable,
                                 java.lang.String&nbsp;encoding)</pre>
<div class="block">Create an url to a user file (files which looked up in any of the configured filestore locations).</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>path</code> - File path.</dd><dd><code>url</code> - Optional URL from where the file can be retrieved</dd><dd><code>sha1</code> - Optional SHA1 checksum (in hex format)</dd><dd><code>retrievable</code> - Flag indicating if the file is retrievable using the URL (If a URL is specified and this flag
                    is false, automatic retrieval will not happen and the user will be requested to manually
                    download and put the file in a filestore location).</dd><dd><code>encoding</code> - File encoding.</dd>
<dt><span class="strong">Returns:</span></dt><dd>file URL.</dd></dl>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar_bottom">
<!--   -->
</a><a href="#skip-navbar_bottom" title="Skip navigation links"></a><a name="navbar_bottom_firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../index-all.html">Index</a></li>
<li><a href="../../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../../com/kloudtek/systyrant/service/filestore/FileDefinition.html" title="class in com.kloudtek.systyrant.service.filestore"><span class="strong">Prev Class</span></a></li>
<li><a href="../../../../../com/kloudtek/systyrant/service/filestore/FileStore.FSDataFile.html" title="class in com.kloudtek.systyrant.service.filestore"><span class="strong">Next Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../../index.html?com/kloudtek/systyrant/service/filestore/FileStore.html" target="_top">Frames</a></li>
<li><a href="FileStore.html" target="_top">No Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../../../allclasses-noframe.html">All Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li><a href="#nested_class_summary">Nested</a>&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor_summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor_detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_detail">Method</a></li>
</ul>
</div>
<a name="skip-navbar_bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
</body>
</html>
